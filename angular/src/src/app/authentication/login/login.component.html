<div class="login-wrapper">
  <div class="login-container">
    <!-- Header with logo/title -->
    <div class="login-header mb-6">
      <div class="text-center">
        <i class="pi pi-user-circle text-6xl mb-3"></i>
        <h1 class="text-3xl font-bold m-0">{{ 'login.title' | translate }}</h1>
        <p class="mt-2">{{ 'login.subtitle' | translate }}</p>
      </div>
    </div>

    <!-- Main card -->
    <p-card [style]="{ width: '100%', maxWidth: '400px' }" class="login-card">
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
        
        <!-- Username with FloatLabel -->
        <div class="field">
          <p-floatlabel>
            <input 
              id="username"
              pInputText
              type="text"
              formControlName="username"
              variant="outlined"
              [style]="{ width: '100%', height: '3rem' }"
              styleClass="login-input"
              pFloatLabel />
            <label for="username" class="flex align-items-center gap-2">
              <i class="pi pi-user"></i>
              {{ 'login.userName' | translate }}
            </label>
          </p-floatlabel>
          
          <!-- Error message -->
          @if (loginForm.get('username')?.invalid && loginForm.get('username')?.touched) {
            <small 
              class="error-field-message block mt-2">
              {{ 'login.userNameRequired' | translate }}
            </small>
          }
        </div>

        <!-- Password with FloatLabel -->
        <div class="field">
          <p-floatlabel>
            <p-password
              id="password"
              formControlName="password"
              [feedback]="false"
              [toggleMask]="true"
              [style]="{ width: '100%', height: '3rem' }"
              [inputStyle]="{ width: '100%', height: '3rem' }"
              variant="outlined"
              class="login-password" />
            <label for="password" class="flex align-items-center gap-2">
              <i class="pi pi-lock"></i>
              {{ 'login.password' | translate }}
            </label>
          </p-floatlabel>
          
          <!-- Error messages -->
           @if (loginForm.get('password')?.invalid && loginForm.get('password')?.touched) {
            <small class="error-field-message block mt-2">
              {{ 'login.passwordRequired' | translate }}
            </small>
           }

          @if (showRemainingAttempts) {
            <small class="text-orange-500 block mt-2">
              {{ 'login.attemptsRemaining' | translate: { attempts: attemptsRemaining } }}
            </small>
          }          
        </div>

        <!-- Feedback messages -->
        <div class="mb-3">
          @for (message of messages(); track message) {
            <p-message 
              [severity]="message.severity" 
              [text]="message.content" 
              [closable]="true"
              class="mb-2" />
          }
        </div>

        <!-- Login button -->
        <div class="field">
          <p-button
            type="submit"
            [label]="'login.title' | translate"
            [disabled]="loginForm.invalid || loading()"
            [loading]="loading()"
            [style]="{ width: '100%', height: '3rem' }"
            size="large"
            icon="pi pi-sign-in"
            styleClass="p-button-lg">
          </p-button>
        </div>

        <!-- Additional links (optional) -->
        <div class="text-center">
          <p class="text-sm text-600">
            {{ 'login.forgotPassword' | translate }}
            <a href="#" class="no-underline ml-1 text-primary">
              {{ 'login.resetPassword' | translate }}
            </a>
          </p>
        </div>
      </form>
    </p-card>

    <!-- Footer -->
    <div class="login-footer mt-4">
      <p class="text-center text-sm text-500">
        {{ 'login.copyright' | translate }}
      </p>
    </div>
  </div>
</div>
